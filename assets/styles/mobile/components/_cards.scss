@charset "UTF-8";

.product-card {
    display: flex;
    flex-direction: column;
    position: relative;
    background-color: $white;

    &* {
        font-weight: 600;
    }

    // 모바일 테두리 제거
    // border: 1px solid $gray-100;
    // border-radius: rem(8);
    // overflow: hidden;

    .card-thumb {
        position: relative;
        width: 100%;
        padding-top: 100%; // 1:1 비율
        display: block;
        overflow: hidden;
        border-radius: rem(4);
        background-color: $gray-50;

        img {
            // position: absolute;
            // top: 0;
            // left: 0;
            // width: 100%;
            // height: 100%;
            // object-fit: cover;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 75%;
            height: 75%;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        .badge-corner {
            position: absolute;
            top: rem(8);
            left: rem(8);
            background-color: $secondary-bg;
            padding: rem(4) rem(8);
            border-radius: rem(2);
            font-size: rem(12);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: rem(4);
            color: $gray-700;

            svg {
                width: rem(14);
                height: rem(14);
            }
        }

        .delivery-tags {
            position: absolute;
            bottom: rem(8);
            left: rem(8);
            display: flex;
            align-items: center;
            gap: rem(4);
            flex-wrap: wrap;

            .tag {
                display: flex;
                align-items: center;
                height: rem(24);
                font-size: rem(10);
                font-weight: 600;
                padding: rem(2) rem(6);
                border-radius: rem(2);
                background-color: $secondary-bg;

                &.tag-frozen {
                    color: $system-info;
                }

                &.tag-ambient {
                    color: $accent-base;
                }

                &.tag-outline {
                    background-color: $secondary-bg !important;
                    border: none;
                    color: $black !important;
                }

                &.tag-green {
                    color: $system-success;
                }
            }
        }
    }

    .card-info {
        padding: rem(16);
        text-decoration: none;
        color: inherit;
        display: flex;
        flex-direction: column;
        flex: 1;

        .product-name {
            font-size: rem(14);
            font-weight: 600;
            color: $gray-700;
            margin-bottom: rem(2);
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            letter-spacing: rem(-0.28);
        }

        .unit-info {
            display: flex;
            flex-direction: column;
            align-content: flex-start;
            flex-wrap: wrap;
            gap: rem(6);
            margin-bottom: rem(4);
            font-size: rem(10);
            height: rem(34);
            justify-content: center;

            .strike {
                color: $gray-500;
                text-decoration: line-through;
            }

            .unit-highlight {
                color: $gray-800;
                font-weight: 600;
            }
        }

        .total-price-area {
            display: flex;
            align-items: center;
            gap: rem(8);
            margin-top: auto;

            .discount {
                font-size: rem(16);
                font-weight: 700;
                color: $accent-75;

                .sub-txt {
                    font-size: rem(10);
                    margin-left: rem
                }
            }

            .price {
                font-size: rem(16);
                font-weight: 700;
                color: $gray-700;
            }
        }
    }

    // 수량 조절 및 버튼 영역
    .card-control {
        padding: 0 rem(16) rem(16);
        display: flex;
        align-items: center;
        gap: rem(4);

        .btn-icon,
        .qty-box {
            order: initial; // Reset order if any
        }

        .btn-icon {
            width: rem(32);
            height: rem(32);
            border: 1px solid $gray-700;
            border-radius: rem(2);
            display: flex;
            align-items: center;
            justify-content: center;
            background: $white;
            color: $black;

            &:first-child {
                // Heart icon if it's first
                margin-right: 0;
            }

            svg {
                width: rem(16);
                height: rem(16);
            }

            &.active {
                // border-color: $accent-base;

                .icon-heart path {
                    fill: $accent-base;
                    stroke: $accent-base; // If it's a stroke icon
                }
            }
        }

        // Specific ordering based on the design (Heart - Qty - Cart)
        // Check HTML structure first. The design shows Heart -> Qty -> Cart.
        // Current HTML is Qty -> Heart -> Cart.
        // We will fix HTML order in the next step, but here we style assuming correct order or flex manipulation.

        .qty-box {
            flex: 1;
            display: flex;
            align-items: center;
            border: 1px solid $gray-700;
            border-radius: rem(2);
            height: rem(32);
            overflow: hidden;

            button {
                width: rem(24); // Slightly wider buttons
                height: 100%;
                background: $white;
                border: none;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                color: $black;

                svg {
                    width: rem(12);
                    height: rem(12);
                }
            }

            input {
                flex: 0.8;
                width: 100%;
                border: none;
                text-align: center;
                font-size: rem(12);
                font-weight: 400;
                color: $black;
                -moz-appearance: textfield;
                appearance: textfield;
            }
        }
    }

    // 하단 추가 정보
    .bottom-info {
        padding: 0 rem(16) rem(16);
        margin-top: 0;
        border-top: none;

        .info-row {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: rem(4);
            font-size: rem(10);
            color: $gray-300;
            line-height: 1.4;
            letter-spacing: -0.02em;
            margin-bottom: rem(2);
            font-weight: 600;

            &:last-child {
                margin-bottom: 0;
            }

            .text-highlight {
                color: $accent-75;
                font-weight: 600;
            }

            span {
                display: flex;
                align-items: center;
                gap: rem(4);
            }

            .icon-tag {
                @include icon-mask('/assets/icons/product-tag.svg');
                margin-right: rem(2);
            }

            .icon-time {
                @include icon-mask('/assets/icons/product-time.svg');
                margin-right: rem(2);
            }

            .icon-ban {
                @include icon-mask('/assets/icons/icon-ban.svg');
                margin-right: rem(2);
            }

            .icon-cart-limit {
                @include icon-mask('/assets/icons/icon-cart-limit.svg');
                margin-right: rem(2);
            }

            .icon-sparkle {
                @include icon-mask('/assets/icons/sparkling.svg');
                margin-right: rem(2);
            }

            .text-highlight {
                color: $accent-75;
            }
        }
    }
}