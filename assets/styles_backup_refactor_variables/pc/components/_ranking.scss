@use "../../abstracts/functions" as *;
@use "../../abstracts/mixins";
@use "../../abstracts/variables";

// 주간 랭킹 섹션
.weekly-ranking {
    padding-bottom: rem(60);

    .section-header {
        margin-bottom: variables.$space-lg;
        align-items: flex-end !important;
    }

    .section-title-group {
        display: flex;
        align-items: center;
        gap: variables.$space-md;
    }

    .section-title {
        font-size: variables.$font-size-xl;
        font-weight: 700;
        color: variables.$gray-700;
        letter-spacing: -0.02em;
        line-height: 1;
        margin: 0;
    }

    .title-divider {
        width: rem(1);
        height: variables.$space-md;
        background-color: variables.$gray-200;
        display: block;
    }

    .date-text {
        font-size: variables.$font-size-base;
        color: variables.$gray-300;
        letter-spacing: -0.01em;
    }
}

// 컨트롤
.ranking-control-area {
    display: flex;
    align-items: center;
    gap: variables.$space-md;
    height: rem(48);

    .control-btn {
        width: rem(48);
        height: rem(48);
        border: rem(1) solid variables.$gray-700;
        background-color: variables.$white;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: variables.$space-xs;
        cursor: pointer;
        @include mixins.btn-hover-effect;
        transition: background-color 0.2s;

        img {
            width: rem(18);
            height: rem(18);
            display: block;
        }
    }

    // 일시정지 버튼 추가 조정
    .btn-pause img {}

    .btn-prev {}

    .page-count {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: variables.$space-sm;
        font-family: variables.$font-family-base;
        min-width: rem(60);

        .current {
            font-size: variables.$font-size-md;
            color: variables.$gray-700;
        }

        .divider {
            display: flex;
            align-items: center;
            justify-content: center;
            width: rem(12);

            img {
                width: 100%;
                height: auto;
            }
        }

        .total {
            font-size: variables.$font-size-md;
            font-weight: 400;

            color: variables.$gray-300;
        }
    }

    .control-group {
        display: flex;
        align-items: center;
        gap: variables.$space-sm;

    }
}

// 랭킹 리스트
.ranking-carousel-view {
    width: 100%;
    overflow: hidden;
}

.ranking-carousel-track {
    display: flex;
    align-items: flex-start;
    transition: transform 0.5s ease;
    width: 100%;
}


.ranking-list {
    flex: 0 0 100%;
    width: 100%;
    border-top: none;
}

.ranking-item {
    border-bottom: rem(1) solid variables.$gray-100;

    &.active {
        border-bottom: rem(2) solid variables.$gray-700 !important;
        border-top: rem(2) solid variables.$gray-700;
        position: relative;
        z-index: 10;

        .ranking-header {
            border-bottom: none;
        }
    }



    .ranking-header {
        display: flex;
        align-items: center;
        padding: variables.$space-lg 0;
        cursor: pointer;
        transition: background-color 0.2s;


    }

    // 순위 번호
    .rank-num {
        display: inline-block;
        width: rem(40);
        text-align: center;
        font-family: variables.$font-family-base;
        font-size: variables.$font-size-xl;
        font-weight: 700;
        color: variables.$gray-700;
        margin-right: rem(10);
        line-height: 1;
    }

    // 순위 변동 아이콘
    .rank-change {
        width: rem(24);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: rem(30);

        .icon-rank-dash {
            color: variables.$gray-500;
        }

        .icon-rank-up {
            color: variables.$accent-base;
        }

        .icon-rank-down {
            color: variables.$system-info;
        }

        img {
            display: block;
        }
    }

    // 타이틀 및 카테고리
    .rank-info {
        display: flex;
        align-items: center;
        gap: rem(12);

        .rank-title {
            font-size: rem(18);
            font-weight: 700;
            color: variables.$gray-700;
            position: relative;
            display: flex;
            align-items: center;

            // 수직 구분선
            &::after {
                content: '';
                display: block;
                width: rem(1);
                width: rem(1);
                height: rem(12);
                background-color: variables.$gray-100;
                margin-left: rem(12);
            }
        }

        .rank-category {
            font-size: variables.$font-size-base;
            color: variables.$gray-500;
            font-weight: 400;
        }
    }

    // 토글 버튼
    .btn-toggle-rank {
        width: rem(44);
        height: rem(44);
        border: rem(1) solid variables.$gray-700;
        background-color: variables.$white;
        border-radius: variables.$space-xs;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: auto;
        cursor: pointer;
        padding: 0;
        transition: all 0.2s;

        svg {
            width: rem(10);
            height: rem(6);
            transition: transform 0.3s;

            background-color: transparent;

            transform: rotate(0deg);
            color: variables.$gray-700;
        }

        // 활성 상태
        &.active {
            background-color: variables.$gray-700;
            border-color: variables.$gray-700;

            svg {
                transform: rotate(180deg);
                opacity: 1;
                color: variables.$white;
            }
        }
    }

    // 확장 본문
    .ranking-body {
        padding: rem(30) 0 rem(40) 0;
        display: none;

        &.show {
            display: block;
        }
    }
}

// 랭킹 상품 그리드
.ranking-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: rem(20);
}

// 더보기 영역
.ranking-more-link {
    display: flex;
    justify-content: center;
    padding-top: rem(40);

    .btn-more {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: variables.$space-xs;
        height: rem(48);
        padding: rem(10) variables.$space-lg;
        border: rem(1) solid variables.$gray-700;
        border-radius: variables.$space-xs;
        font-size: variables.$font-size-base;
        font-weight: 500;
        color: variables.$gray-700;
        text-decoration: none;
        transition: all 0.2s;

        @include mixins.btn-hover-effect;

        svg {
            width: rem(16);
            margin-top: rem(1);
        }
    }
}